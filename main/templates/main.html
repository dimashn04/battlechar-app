{% extends 'base.html' %}

{% block meta %}
    <title>ROSTER</title>
{% endblock meta %}

{% block content %}

{% include 'navbar.html' %}

{% comment %} Shout out to Faris Zhafir Faza for helping me {% endcomment %}
<div class="px-4 my-7 ml-7">
    <h1 class="text-2xl font-bold font-sans">Greetings Officer <span class="text-red-500">{{ creator }}</span> from {{ class }}!</h1>
    <div class="flex justify-between mt-4">
        {% if operators %}
        <h1 class="font-extrabold text-2xl text-black">Operator Roster</h1>
        {% else %}
        <h1 class="font-extrabold text-2xl text-black">Add Operator</h1>
        {% endif %}
        <a href="{% url 'main:create_operator' %}" class="flex w-fit justify-self-end text-white bg-green-700 hover:bg-green-800 focus:ring-4 focus:ring-green-300 font-medium rounded-lg text-sm p-4 mr-2 mb-2 focus:outline-none">
            <button>
              Add New Operator
            </button>
        </a>
    </div>
    <div class="flex flex-wrap justify-center">
        {% for operator in operators %}
        <div class="w-[300px] m-4 h-[580px] p-6 {% if forloop.last %} bg-blue-200 {% else %}bg-white{% endif %} border border-gray-200 rounded-lg shadow-xl">
            <div class="flex justify-between">
                <h5 class="mb-2 text-xl font-bold tracking-tight text-gray-900 ">{{operator.name}}</h5>
                <form action="{% url 'main:remove_operator' operator.id %}" method="post">
                    {% csrf_token %}
                    <button type="submit" name="Remove" class="btn btn-danger focus:outline-none text-white bg-red-600 hover:bg-red-800 focus:ring-4 focus:ring-red-300 font-medium rounded-lg text-sm px-2 py-1.5 mb-2">Delete</button>
                </form>
            </div>
            <p class="my-3 font-normal text-gray-700 ">{{operator.description}}</p>
            <div class="flex justify-between mt-2 mb-2">
                <p class="font-bold text-gray-900">{{operator.price}} renown</p>
            </div>
            <div class="flex justify-between mx-2 mt-2 mb-2">
                <a><center>{{ operator.primary_weapon_ammo_amount }} Primary Weapon Amount</center></a>
                <a><center>{{ operator.secondary_weapon_ammo_amount }} Secondary Weapon Amount</center></a>
            </div>
            <div class="flex justify-end mx-2 mt-2 mb-2">
                <form action="{% url 'main:add_primary_ammo_amount' operator.id %}" method="post">
                    {% csrf_token %}
                    <button type="submit" name="Increment" class="btn btn-primary text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:ring-blue-300 font-medium rounded-lg text-sm px-2 py-1.5 mr-2 mb-2 focus:outline-none">+ Primary</button>
                </form>
                <form action="{% url 'main:add_secondary_ammo_amount' operator.id %}" method="post">
                    {% csrf_token %}
                    <button type="submit" name="Increment" class="btn btn-primary text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:ring-blue-300 font-medium rounded-lg text-sm px-2 py-1.5 mr-2 mb-2 focus:outline-none">+ Secondary</button>
                </form>
            </div>
            <div class="flex justify-end mx-2 mt-2 mb-2">
                <form action="{% url 'main:dec_primary_ammo_amount' operator.id %}" method="post">
                    {% csrf_token %}
                    <button type="submit" name="Decrement" class="focus:outline-none text-white bg-red-700 hover:bg-red-800 focus:ring-4 focus:ring-red-300 font-medium rounded-lg text-sm px-2 py-1.5 mr-2 mb-2">- Primary</button>
                </form>
                <form action="{% url 'main:dec_secondary_ammo_amount' operator.id %}" method="post">
                    {% csrf_token %}
                    <button type="submit" name="Decrement" class="focus:outline-none text-white bg-red-700 hover:bg-red-800 focus:ring-4 focus:ring-red-300 font-medium rounded-lg text-sm px-2 py-1.5 mr-2 mb-2">- Secondary</button>
                </form>
            </div>
        </div>
        {% endfor %}
    </div>
</div>
    
{% endblock content %}